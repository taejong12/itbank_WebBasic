<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>버킷리스트</title>
<link rel="stylesheet" href="style.css">
<script>
	function listClick() {
		let lst = document.getElementById("lst");
		
		lst.addEventListener('click', activeLst);
	}
	
	
	function activeLst(event){
		// this : addEventListener 발생시킨 대상
		// event.target : 클릭되어 event 를 발생시킨 대상
		console.log(this);
		console.log(event.target);
		
		let lstList = this.children;
		
		for(let i=0;i<lstList.length;i++){
			lstList[i].removeAttribute('class');
		}
		
		// event.target.toString() 
		// - event.target 의 내용을 문자열로 바꾼다.
		let targetTxt = event.target.toString();
		
		if(targetTxt.includes('LI')) {
			event.target.setAttribute('class', 'active');	
		} else {
			event.target.parentElement.setAttribute('class', 'active');	
		}
	}
	
	function btnClick(){
		let inputTxt = prompt('추가 내용을 입력하세요.');
		let lst = document.getElementById("lst");
		
		// document.createElement("태그")
		// - 새로운 요소 생성
		let li = document.createElement("li");
		li.innerText = inputTxt;
		
		// 객체.appendChild(요소) 
		// - 객체의 자식 요소로 추가
		lst.appendChild(li);
	}
</script>
</head>
<body>
	<div id='mainDiv'>
		<h1 id='title'>Bucket List</h1>
		<hr>
		<button id='addBtn' onclick="btnClick()">목록추가</button>
		<ul id='lst'>
			<li>세계 일주</li>
			<li>달 착륙</li>
			<li>태양 근거리 실사</li>
		</ul>
	</div>
	<script>
		listClick();
	</script>
</body>
</html>